{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sheetsManager = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _utils = require('@material-ui/utils');\n\nvar _jss = require('jss');\n\nvar _reactJssContext = require('./reactJssContext');\n\nvar _reactJssContext2 = _interopRequireDefault(_reactJssContext);\n\nvar _jssPreset = require('./jssPreset');\n\nvar _jssPreset2 = _interopRequireDefault(_jssPreset);\n\nvar _mergeClasses = require('./mergeClasses');\n\nvar _mergeClasses2 = _interopRequireDefault(_mergeClasses);\n\nvar _multiKeyStore = require('./multiKeyStore');\n\nvar _multiKeyStore2 = _interopRequireDefault(_multiKeyStore);\n\nvar _createMuiTheme = require('./createMuiTheme');\n\nvar _createMuiTheme2 = _interopRequireDefault(_createMuiTheme);\n\nvar _themeListener = require('./themeListener');\n\nvar _themeListener2 = _interopRequireDefault(_themeListener);\n\nvar _createGenerateClassName = require('./createGenerateClassName');\n\nvar _createGenerateClassName2 = _interopRequireDefault(_createGenerateClassName);\n\nvar _getStylesCreator = require('./getStylesCreator');\n\nvar _getStylesCreator2 = _interopRequireDefault(_getStylesCreator);\n\nvar _getThemeProps = require('./getThemeProps');\n\nvar _getThemeProps2 = _interopRequireDefault(_getThemeProps);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n/* eslint-disable no-underscore-dangle */\n// Default JSS instance.\n\n\nvar jss = (0, _jss.create)((0, _jssPreset2.default)()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = (0, _createGenerateClassName2.default)(); // Global index counter to preserve source order.\n// We create the style sheet during at the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\n\nvar indexCounter = -10e10; // Exported for test purposes\n\nvar sheetsManager = exports.sheetsManager = new Map(); // We use the same empty object to ref count the styles that don't need a theme object.\n\nvar noopTheme = {}; // In order to have self-supporting components, we rely on default theme when not provided.\n\nvar defaultTheme = (0, _createMuiTheme2.default)({\n  typography: {\n    suppressWarning: true\n  }\n}); // Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\n\nvar withStylesOld = function withStylesOld(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var _Object$assign;\n\n    var _options$withTheme = options.withTheme,\n        withTheme = _options$withTheme === undefined ? false : _options$withTheme,\n        _options$flip = options.flip,\n        flip = _options$flip === undefined ? null : _options$flip,\n        name = options.name,\n        styleSheetOptions = _objectWithoutProperties(options, ['withTheme', 'flip', 'name']);\n\n    var stylesCreator = (0, _getStylesCreator2.default)(stylesOrCreator);\n    var listenToTheme = stylesCreator.themingEnabled || typeof name === 'string' || withTheme;\n    indexCounter += 1;\n    stylesCreator.options.index = indexCounter;\n    (0, _warning2.default)(indexCounter < 0, ['Material-UI: you might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n\n    var WithStyles = function (_React$Component) {\n      _inherits(WithStyles, _React$Component);\n\n      function WithStyles(props, context) {\n        _classCallCheck(this, WithStyles);\n\n        var _this = _possibleConstructorReturn(this, (WithStyles.__proto__ || Object.getPrototypeOf(WithStyles)).call(this, props, context));\n\n        _this.jss = context[_reactJssContext2.default.jss] || jss;\n        _this.sheetsManager = sheetsManager;\n        _this.unsubscribeId = null;\n        var muiThemeProviderOptions = context.muiThemeProviderOptions;\n\n        if (muiThemeProviderOptions) {\n          if (muiThemeProviderOptions.sheetsManager) {\n            _this.sheetsManager = muiThemeProviderOptions.sheetsManager;\n          }\n\n          _this.sheetsCache = muiThemeProviderOptions.sheetsCache;\n          _this.disableStylesGeneration = muiThemeProviderOptions.disableStylesGeneration;\n        } // Attach the stylesCreator to the instance of the component as in the context\n        // of react-hot-loader the hooks can be executed in a different closure context:\n        // https://github.com/gaearon/react-hot-loader/blob/master/src/patch.dev.js#L107\n\n\n        _this.stylesCreatorSaved = stylesCreator;\n        _this.sheetOptions = Object.assign({\n          generateClassName: generateClassName\n        }, context[_reactJssContext2.default.sheetOptions]); // We use || as the function call is lazy evaluated.\n\n        _this.theme = listenToTheme ? _themeListener2.default.initial(context) || defaultTheme : noopTheme;\n\n        _this.attach(_this.theme);\n\n        _this.cacheClasses = {\n          // Cache for the finalized classes value.\n          value: null,\n          // Cache for the last used classes prop pointer.\n          lastProp: null,\n          // Cache for the last used rendered classes pointer.\n          lastJSS: {}\n        };\n        return _this;\n      }\n\n      _createClass(WithStyles, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          if (!listenToTheme) {\n            return;\n          }\n\n          this.unsubscribeId = _themeListener2.default.subscribe(this.context, function (theme) {\n            var oldTheme = _this2.theme;\n            _this2.theme = theme;\n\n            _this2.attach(_this2.theme); // Rerender the component so the underlying component gets the theme update.\n            // By theme update we mean receiving and applying the new class names.\n\n\n            _this2.setState({}, function () {\n              _this2.detach(oldTheme);\n            });\n          });\n        }\n      }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n          // react-hot-loader specific logic\n          if (this.stylesCreatorSaved === stylesCreator || process.env.NODE_ENV === 'production') {\n            return;\n          }\n\n          this.detach(this.theme);\n          this.stylesCreatorSaved = stylesCreator;\n          this.attach(this.theme);\n          this.forceUpdate();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.detach(this.theme);\n\n          if (this.unsubscribeId !== null) {\n            _themeListener2.default.unsubscribe(this.context, this.unsubscribeId);\n          }\n        }\n      }, {\n        key: 'getClasses',\n        value: function getClasses() {\n          if (this.disableStylesGeneration) {\n            return this.props.classes || {};\n          } // Tracks if either the rendered classes or classes prop has changed,\n          // requiring the generation of a new finalized classes object.\n\n\n          var generate = false;\n\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, this.stylesCreatorSaved, this.theme);\n\n          if (sheetManager.sheet.classes !== this.cacheClasses.lastJSS) {\n            this.cacheClasses.lastJSS = sheetManager.sheet.classes;\n            generate = true;\n          }\n\n          if (this.props.classes !== this.cacheClasses.lastProp) {\n            this.cacheClasses.lastProp = this.props.classes;\n            generate = true;\n          }\n\n          if (generate) {\n            this.cacheClasses.value = (0, _mergeClasses2.default)({\n              baseClasses: this.cacheClasses.lastJSS,\n              newClasses: this.props.classes,\n              Component: Component\n            });\n          }\n\n          return this.cacheClasses.value;\n        }\n      }, {\n        key: 'attach',\n        value: function attach(theme) {\n          if (this.disableStylesGeneration) {\n            return;\n          }\n\n          var stylesCreatorSaved = this.stylesCreatorSaved;\n\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, stylesCreatorSaved, theme);\n\n          if (!sheetManager) {\n            sheetManager = {\n              refs: 0,\n              sheet: null\n            };\n\n            _multiKeyStore2.default.set(this.sheetsManager, stylesCreatorSaved, theme, sheetManager);\n          }\n\n          if (sheetManager.refs === 0) {\n            var sheet = void 0;\n\n            if (this.sheetsCache) {\n              sheet = _multiKeyStore2.default.get(this.sheetsCache, stylesCreatorSaved, theme);\n            }\n\n            if (!sheet) {\n              sheet = this.createSheet(theme);\n              sheet.attach();\n\n              if (this.sheetsCache) {\n                _multiKeyStore2.default.set(this.sheetsCache, stylesCreatorSaved, theme, sheet);\n              }\n            }\n\n            sheetManager.sheet = sheet;\n            var sheetsRegistry = this.context[_reactJssContext2.default.sheetsRegistry];\n\n            if (sheetsRegistry) {\n              sheetsRegistry.add(sheet);\n            }\n          }\n\n          sheetManager.refs += 1;\n        }\n      }, {\n        key: 'createSheet',\n        value: function createSheet(theme) {\n          var styles = this.stylesCreatorSaved.create(theme, name);\n          var meta = name;\n\n          if (process.env.NODE_ENV !== 'production' && !meta) {\n            // Provide a better DX outside production.\n            meta = (0, _utils.getDisplayName)(Component);\n            (0, _warning2.default)(typeof meta === 'string', ['Material-UI: the component displayName is invalid. It needs to be a string.', 'Please fix the following component: ' + Component + '.'].join('\\n'));\n          }\n\n          var sheet = this.jss.createStyleSheet(styles, Object.assign({\n            meta: meta,\n            classNamePrefix: meta,\n            flip: typeof flip === 'boolean' ? flip : theme.direction === 'rtl',\n            link: false\n          }, this.sheetOptions, this.stylesCreatorSaved.options, {\n            name: name || Component.displayName\n          }, styleSheetOptions));\n          return sheet;\n        }\n      }, {\n        key: 'detach',\n        value: function detach(theme) {\n          if (this.disableStylesGeneration) {\n            return;\n          }\n\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, this.stylesCreatorSaved, theme);\n\n          sheetManager.refs -= 1;\n\n          if (sheetManager.refs === 0) {\n            _multiKeyStore2.default.delete(this.sheetsManager, this.stylesCreatorSaved, theme);\n\n            this.jss.removeStyleSheet(sheetManager.sheet);\n            var sheetsRegistry = this.context[_reactJssContext2.default.sheetsRegistry];\n\n            if (sheetsRegistry) {\n              sheetsRegistry.remove(sheetManager.sheet);\n            }\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _props = this.props,\n              classes = _props.classes,\n              innerRef = _props.innerRef,\n              other = _objectWithoutProperties(_props, ['classes', 'innerRef']);\n\n          var more = (0, _getThemeProps2.default)({\n            theme: this.theme,\n            name: name,\n            props: other\n          }); // Provide the theme to the wrapped component.\n          // So we don't have to use the `withTheme()` Higher-order Component.\n\n          if (withTheme && !more.theme) {\n            more.theme = this.theme;\n          }\n\n          return _react2.default.createElement(Component, Object.assign({}, more, {\n            classes: this.getClasses(),\n            ref: innerRef\n          }));\n        }\n      }]);\n\n      return WithStyles;\n    }(_react2.default.Component);\n\n    WithStyles.propTypes = {\n      /**\n       * Override or extend the styles applied to the component.\n       */\n      classes: _propTypes2.default.object,\n\n      /**\n       * Use that property to pass a ref callback to the decorated component.\n       */\n      innerRef: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.object])\n    };\n    WithStyles.contextTypes = Object.assign((_Object$assign = {\n      muiThemeProviderOptions: _propTypes2.default.object\n    }, _defineProperty(_Object$assign, _reactJssContext2.default.jss, _propTypes2.default.object), _defineProperty(_Object$assign, _reactJssContext2.default.sheetOptions, _propTypes2.default.object), _defineProperty(_Object$assign, _reactJssContext2.default.sheetsRegistry, _propTypes2.default.object), _Object$assign), listenToTheme ? _themeListener2.default.contextTypes : {});\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = 'WithStyles(' + (0, _utils.getDisplayName)(Component) + ')';\n    }\n\n    (0, _hoistNonReactStatics2.default)(WithStyles, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n    }\n\n    return WithStyles;\n  };\n};\n/* istanbul ignore if */\n\n\nif (!_utils.ponyfillGlobal.__MUI_STYLES__) {\n  _utils.ponyfillGlobal.__MUI_STYLES__ = {};\n}\n\nif (!_utils.ponyfillGlobal.__MUI_STYLES__.withStyles) {\n  _utils.ponyfillGlobal.__MUI_STYLES__.withStyles = withStylesOld;\n}\n\nexports.default = function (styles, options) {\n  return _utils.ponyfillGlobal.__MUI_STYLES__.withStyles(styles, Object.assign({\n    defaultTheme: defaultTheme\n  }, options));\n};","map":{"version":3,"sources":["/home/nick/Desktop/blog_app/client/node_modules/@bit/mui-org.material-ui.styles/dist/styles/withStyles.js"],"names":["Object","defineProperty","exports","value","sheetsManager","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_warning","_warning2","_hoistNonReactStatics","_hoistNonReactStatics2","_utils","_jss","_reactJssContext","_reactJssContext2","_jssPreset","_jssPreset2","_mergeClasses","_mergeClasses2","_multiKeyStore","_multiKeyStore2","_createMuiTheme","_createMuiTheme2","_themeListener","_themeListener2","_createGenerateClassName","_createGenerateClassName2","_getStylesCreator","_getStylesCreator2","_getThemeProps","_getThemeProps2","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_objectWithoutProperties","keys","indexOf","hasOwnProperty","jss","generateClassName","indexCounter","Map","noopTheme","defaultTheme","typography","suppressWarning","withStylesOld","stylesOrCreator","options","arguments","Component","_Object$assign","_options$withTheme","withTheme","_options$flip","flip","name","styleSheetOptions","stylesCreator","listenToTheme","themingEnabled","index","join","WithStyles","_React$Component","context","_this","getPrototypeOf","unsubscribeId","muiThemeProviderOptions","sheetsCache","disableStylesGeneration","stylesCreatorSaved","sheetOptions","assign","theme","initial","attach","cacheClasses","lastProp","lastJSS","componentDidMount","_this2","subscribe","oldTheme","setState","detach","componentDidUpdate","process","env","NODE_ENV","forceUpdate","componentWillUnmount","unsubscribe","getClasses","classes","generate","sheetManager","get","sheet","baseClasses","newClasses","refs","set","createSheet","sheetsRegistry","add","styles","meta","getDisplayName","createStyleSheet","classNamePrefix","direction","link","displayName","delete","removeStyleSheet","remove","render","_props","innerRef","other","more","createElement","ref","propTypes","object","oneOfType","func","contextTypes","Naked","ponyfillGlobal","__MUI_STYLES__","withStyles"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sheetsManager = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _utils = require('@material-ui/utils');\n\nvar _jss = require('jss');\n\nvar _reactJssContext = require('./reactJssContext');\n\nvar _reactJssContext2 = _interopRequireDefault(_reactJssContext);\n\nvar _jssPreset = require('./jssPreset');\n\nvar _jssPreset2 = _interopRequireDefault(_jssPreset);\n\nvar _mergeClasses = require('./mergeClasses');\n\nvar _mergeClasses2 = _interopRequireDefault(_mergeClasses);\n\nvar _multiKeyStore = require('./multiKeyStore');\n\nvar _multiKeyStore2 = _interopRequireDefault(_multiKeyStore);\n\nvar _createMuiTheme = require('./createMuiTheme');\n\nvar _createMuiTheme2 = _interopRequireDefault(_createMuiTheme);\n\nvar _themeListener = require('./themeListener');\n\nvar _themeListener2 = _interopRequireDefault(_themeListener);\n\nvar _createGenerateClassName = require('./createGenerateClassName');\n\nvar _createGenerateClassName2 = _interopRequireDefault(_createGenerateClassName);\n\nvar _getStylesCreator = require('./getStylesCreator');\n\nvar _getStylesCreator2 = _interopRequireDefault(_getStylesCreator);\n\nvar _getThemeProps = require('./getThemeProps');\n\nvar _getThemeProps2 = _interopRequireDefault(_getThemeProps);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /* eslint-disable no-underscore-dangle */\n\n// Default JSS instance.\nvar jss = (0, _jss.create)((0, _jssPreset2.default)());\n\n// Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\nvar generateClassName = (0, _createGenerateClassName2.default)();\n\n// Global index counter to preserve source order.\n// We create the style sheet during at the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -10e10;\n\n// Exported for test purposes\nvar sheetsManager = exports.sheetsManager = new Map();\n\n// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\n\n// In order to have self-supporting components, we rely on default theme when not provided.\nvar defaultTheme = (0, _createMuiTheme2.default)({\n  typography: {\n    suppressWarning: true\n  }\n});\n\n// Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\nvar withStylesOld = function withStylesOld(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var _Object$assign;\n\n    var _options$withTheme = options.withTheme,\n        withTheme = _options$withTheme === undefined ? false : _options$withTheme,\n        _options$flip = options.flip,\n        flip = _options$flip === undefined ? null : _options$flip,\n        name = options.name,\n        styleSheetOptions = _objectWithoutProperties(options, ['withTheme', 'flip', 'name']);\n\n    var stylesCreator = (0, _getStylesCreator2.default)(stylesOrCreator);\n    var listenToTheme = stylesCreator.themingEnabled || typeof name === 'string' || withTheme;\n\n    indexCounter += 1;\n    stylesCreator.options.index = indexCounter;\n\n    (0, _warning2.default)(indexCounter < 0, ['Material-UI: you might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n\n    var WithStyles = function (_React$Component) {\n      _inherits(WithStyles, _React$Component);\n\n      function WithStyles(props, context) {\n        _classCallCheck(this, WithStyles);\n\n        var _this = _possibleConstructorReturn(this, (WithStyles.__proto__ || Object.getPrototypeOf(WithStyles)).call(this, props, context));\n\n        _this.jss = context[_reactJssContext2.default.jss] || jss;\n        _this.sheetsManager = sheetsManager;\n        _this.unsubscribeId = null;\n\n        var muiThemeProviderOptions = context.muiThemeProviderOptions;\n\n        if (muiThemeProviderOptions) {\n          if (muiThemeProviderOptions.sheetsManager) {\n            _this.sheetsManager = muiThemeProviderOptions.sheetsManager;\n          }\n          _this.sheetsCache = muiThemeProviderOptions.sheetsCache;\n          _this.disableStylesGeneration = muiThemeProviderOptions.disableStylesGeneration;\n        }\n\n        // Attach the stylesCreator to the instance of the component as in the context\n        // of react-hot-loader the hooks can be executed in a different closure context:\n        // https://github.com/gaearon/react-hot-loader/blob/master/src/patch.dev.js#L107\n        _this.stylesCreatorSaved = stylesCreator;\n        _this.sheetOptions = Object.assign({\n          generateClassName: generateClassName\n        }, context[_reactJssContext2.default.sheetOptions]);\n        // We use || as the function call is lazy evaluated.\n        _this.theme = listenToTheme ? _themeListener2.default.initial(context) || defaultTheme : noopTheme;\n\n        _this.attach(_this.theme);\n\n        _this.cacheClasses = {\n          // Cache for the finalized classes value.\n          value: null,\n          // Cache for the last used classes prop pointer.\n          lastProp: null,\n          // Cache for the last used rendered classes pointer.\n          lastJSS: {}\n        };\n        return _this;\n      }\n\n      _createClass(WithStyles, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          if (!listenToTheme) {\n            return;\n          }\n\n          this.unsubscribeId = _themeListener2.default.subscribe(this.context, function (theme) {\n            var oldTheme = _this2.theme;\n            _this2.theme = theme;\n            _this2.attach(_this2.theme);\n\n            // Rerender the component so the underlying component gets the theme update.\n            // By theme update we mean receiving and applying the new class names.\n            _this2.setState({}, function () {\n              _this2.detach(oldTheme);\n            });\n          });\n        }\n      }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n          // react-hot-loader specific logic\n          if (this.stylesCreatorSaved === stylesCreator || process.env.NODE_ENV === 'production') {\n            return;\n          }\n\n          this.detach(this.theme);\n          this.stylesCreatorSaved = stylesCreator;\n          this.attach(this.theme);\n          this.forceUpdate();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.detach(this.theme);\n\n          if (this.unsubscribeId !== null) {\n            _themeListener2.default.unsubscribe(this.context, this.unsubscribeId);\n          }\n        }\n      }, {\n        key: 'getClasses',\n        value: function getClasses() {\n          if (this.disableStylesGeneration) {\n            return this.props.classes || {};\n          }\n\n          // Tracks if either the rendered classes or classes prop has changed,\n          // requiring the generation of a new finalized classes object.\n          var generate = false;\n\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, this.stylesCreatorSaved, this.theme);\n\n          if (sheetManager.sheet.classes !== this.cacheClasses.lastJSS) {\n            this.cacheClasses.lastJSS = sheetManager.sheet.classes;\n            generate = true;\n          }\n          if (this.props.classes !== this.cacheClasses.lastProp) {\n            this.cacheClasses.lastProp = this.props.classes;\n            generate = true;\n          }\n\n          if (generate) {\n            this.cacheClasses.value = (0, _mergeClasses2.default)({\n              baseClasses: this.cacheClasses.lastJSS,\n              newClasses: this.props.classes,\n              Component: Component\n            });\n          }\n\n          return this.cacheClasses.value;\n        }\n      }, {\n        key: 'attach',\n        value: function attach(theme) {\n          if (this.disableStylesGeneration) {\n            return;\n          }\n\n          var stylesCreatorSaved = this.stylesCreatorSaved;\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, stylesCreatorSaved, theme);\n\n          if (!sheetManager) {\n            sheetManager = {\n              refs: 0,\n              sheet: null\n            };\n            _multiKeyStore2.default.set(this.sheetsManager, stylesCreatorSaved, theme, sheetManager);\n          }\n\n          if (sheetManager.refs === 0) {\n            var sheet = void 0;\n\n            if (this.sheetsCache) {\n              sheet = _multiKeyStore2.default.get(this.sheetsCache, stylesCreatorSaved, theme);\n            }\n\n            if (!sheet) {\n              sheet = this.createSheet(theme);\n              sheet.attach();\n\n              if (this.sheetsCache) {\n                _multiKeyStore2.default.set(this.sheetsCache, stylesCreatorSaved, theme, sheet);\n              }\n            }\n\n            sheetManager.sheet = sheet;\n\n            var sheetsRegistry = this.context[_reactJssContext2.default.sheetsRegistry];\n            if (sheetsRegistry) {\n              sheetsRegistry.add(sheet);\n            }\n          }\n\n          sheetManager.refs += 1;\n        }\n      }, {\n        key: 'createSheet',\n        value: function createSheet(theme) {\n          var styles = this.stylesCreatorSaved.create(theme, name);\n          var meta = name;\n\n          if (process.env.NODE_ENV !== 'production' && !meta) {\n            // Provide a better DX outside production.\n            meta = (0, _utils.getDisplayName)(Component);\n            (0, _warning2.default)(typeof meta === 'string', ['Material-UI: the component displayName is invalid. It needs to be a string.', 'Please fix the following component: ' + Component + '.'].join('\\n'));\n          }\n\n          var sheet = this.jss.createStyleSheet(styles, Object.assign({\n            meta: meta,\n            classNamePrefix: meta,\n            flip: typeof flip === 'boolean' ? flip : theme.direction === 'rtl',\n            link: false\n          }, this.sheetOptions, this.stylesCreatorSaved.options, {\n            name: name || Component.displayName\n          }, styleSheetOptions));\n\n          return sheet;\n        }\n      }, {\n        key: 'detach',\n        value: function detach(theme) {\n          if (this.disableStylesGeneration) {\n            return;\n          }\n\n          var sheetManager = _multiKeyStore2.default.get(this.sheetsManager, this.stylesCreatorSaved, theme);\n          sheetManager.refs -= 1;\n\n          if (sheetManager.refs === 0) {\n            _multiKeyStore2.default.delete(this.sheetsManager, this.stylesCreatorSaved, theme);\n\n            this.jss.removeStyleSheet(sheetManager.sheet);\n            var sheetsRegistry = this.context[_reactJssContext2.default.sheetsRegistry];\n            if (sheetsRegistry) {\n              sheetsRegistry.remove(sheetManager.sheet);\n            }\n          }\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _props = this.props,\n              classes = _props.classes,\n              innerRef = _props.innerRef,\n              other = _objectWithoutProperties(_props, ['classes', 'innerRef']);\n\n          var more = (0, _getThemeProps2.default)({ theme: this.theme, name: name, props: other });\n\n          // Provide the theme to the wrapped component.\n          // So we don't have to use the `withTheme()` Higher-order Component.\n          if (withTheme && !more.theme) {\n            more.theme = this.theme;\n          }\n\n          return _react2.default.createElement(Component, Object.assign({}, more, { classes: this.getClasses(), ref: innerRef }));\n        }\n      }]);\n\n      return WithStyles;\n    }(_react2.default.Component);\n\n    WithStyles.propTypes = {\n      /**\n       * Override or extend the styles applied to the component.\n       */\n      classes: _propTypes2.default.object,\n      /**\n       * Use that property to pass a ref callback to the decorated component.\n       */\n      innerRef: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.object])\n    };\n\n    WithStyles.contextTypes = Object.assign((_Object$assign = {\n      muiThemeProviderOptions: _propTypes2.default.object\n    }, _defineProperty(_Object$assign, _reactJssContext2.default.jss, _propTypes2.default.object), _defineProperty(_Object$assign, _reactJssContext2.default.sheetOptions, _propTypes2.default.object), _defineProperty(_Object$assign, _reactJssContext2.default.sheetsRegistry, _propTypes2.default.object), _Object$assign), listenToTheme ? _themeListener2.default.contextTypes : {});\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = 'WithStyles(' + (0, _utils.getDisplayName)(Component) + ')';\n    }\n\n    (0, _hoistNonReactStatics2.default)(WithStyles, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n    }\n\n    return WithStyles;\n  };\n};\n\n/* istanbul ignore if */\nif (!_utils.ponyfillGlobal.__MUI_STYLES__) {\n  _utils.ponyfillGlobal.__MUI_STYLES__ = {};\n}\n\nif (!_utils.ponyfillGlobal.__MUI_STYLES__.withStyles) {\n  _utils.ponyfillGlobal.__MUI_STYLES__.withStyles = withStylesOld;\n}\n\nexports.default = function (styles, options) {\n  return _utils.ponyfillGlobal.__MUI_STYLES__.withStyles(styles, Object.assign({\n    defaultTheme: defaultTheme\n  }, options));\n};\n\n//# sourceMappingURL=withStyles.js.map"]},"metadata":{},"sourceType":"script"}